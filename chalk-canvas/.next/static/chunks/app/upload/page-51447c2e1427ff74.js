(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{8352:function(e,t,r){Promise.resolve().then(r.bind(r,998))},998:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var s=r(7437),l=r(2265),o=r(7648);let a={conceptual:{label:"Concept Gap",color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",description:"Fundamental understanding is missing"},procedural:{label:"Wrong Process",color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)",description:"Method or steps are incorrect"},factual:{label:"Fact Error",color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.1)",description:"Memorized incorrectly (e.g., times tables)"},careless:{label:"Careless Mistake",color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)",description:"Simple slip, sign error, typo"}},i={upload:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),camera:(0,s.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})]}),check:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),x:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),arrow:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),loading:(0,s.jsxs)("svg",{className:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};function n(){let[e,t]=(0,l.useState)(null),[r,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),[u,b]=(0,l.useState)(null),w=(0,l.useRef)(null),g=(0,l.useCallback)(e=>{var r;let s=null===(r=e.target.files)||void 0===r?void 0:r[0];if(s){let e=new FileReader;e.onload=e=>{var r;t(null===(r=e.target)||void 0===r?void 0:r.result),p(null),b(null)},e.readAsDataURL(s)}},[]),j=(0,l.useCallback)(e=>{var r;e.preventDefault();let s=null===(r=e.dataTransfer.files)||void 0===r?void 0:r[0];if(s&&s.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{var r;t(null===(r=e.target)||void 0===r?void 0:r.result),p(null),b(null)},e.readAsDataURL(s)}},[]),f=async()=>{if(e){h(!0),b(null);try{let t=await fetch("/api/homework",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e,problemText:r||void 0,correctAnswer:c||void 0})}),s=await t.json();s.success?p(s.analysis):b(s.error||"Analysis failed")}catch(e){b("Failed to analyze. Please try again."),console.error(e)}finally{h(!1)}}},v=()=>{t(null),p(null),b(null),n(""),d("")};return(0,s.jsxs)("main",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/[0.04]",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto px-6 h-14 flex items-center justify-between",children:[(0,s.jsxs)(o.default,{href:"/",className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors",children:[i.arrow,(0,s.jsx)("span",{className:"text-sm",children:"Back"})]}),(0,s.jsx)("span",{className:"text-white/40 text-sm",children:"Homework Analyzer"})]})}),(0,s.jsxs)("div",{className:"max-w-3xl mx-auto px-6 pt-24 pb-12",children:[!m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl font-medium text-white mb-2",children:"Upload your homework"}),(0,s.jsx)("p",{className:"text-white/40 mb-8",children:"Take a photo of your math work and we'll analyze it"}),(0,s.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:j,onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"relative border-2 border-dashed rounded-2xl p-12 text-center cursor-pointer transition-all\n                ".concat(e?"border-white/20 bg-white/[0.02]":"border-white/10 hover:border-white/20 hover:bg-white/[0.02]"),children:[e?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e,alt:"Uploaded homework",className:"max-h-80 mx-auto rounded-lg"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),v()},className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-black/50 flex items-center justify-center hover:bg-black/70 transition-colors",children:i.x})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-white/30 mb-4",children:i.upload}),(0,s.jsx)("p",{className:"text-white/60 mb-2",children:"Drop an image here or click to upload"}),(0,s.jsx)("p",{className:"text-white/30 text-sm",children:"PNG, JPG up to 10MB"})]}),(0,s.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:g,className:"hidden"})]}),e&&(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-white/40 mb-2",children:"Problem (optional)"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"e.g., Solve for x: 3x + 5 = 14",className:"w-full px-4 py-3 rounded-xl bg-white/[0.03] border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-white/20"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-white/40 mb-2",children:"Correct answer (optional)"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"e.g., x = 3",className:"w-full px-4 py-3 rounded-xl bg-white/[0.03] border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-white/20"})]}),u&&(0,s.jsx)("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:u}),(0,s.jsx)("button",{onClick:f,disabled:x,className:"w-full py-4 rounded-xl bg-white text-[#0a0a0a] font-medium hover:bg-white/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,s.jsxs)(s.Fragment,{children:[i.loading,"Analyzing..."]}):"Analyze Homework"})]})]}),m&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-medium text-white",children:"Analysis Complete"}),(0,s.jsx)("button",{onClick:v,className:"px-4 py-2 rounded-lg border border-white/10 text-white/60 hover:text-white hover:border-white/20 transition-all text-sm",children:"Analyze Another"})]}),(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-white/[0.02] border border-white/5",children:[(0,s.jsx)("h2",{className:"text-sm text-white/40 mb-3",children:"Recognized Solution"}),(0,s.jsx)("pre",{className:"text-white/80 font-mono text-sm whitespace-pre-wrap",children:m.recognizedText})]}),(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-white/[0.02] border border-white/5",children:[(0,s.jsx)("h2",{className:"text-sm text-white/40 mb-4",children:"Step-by-Step Analysis"}),(0,s.jsx)("div",{className:"space-y-3",children:m.steps.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-xl ".concat(e.isCorrect?"bg-green-500/5 border border-green-500/10":"bg-red-500/5 border border-red-500/10"),children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ".concat(e.isCorrect?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.isCorrect?i.check:i.x}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{className:"text-white/40 text-xs",children:["Step ",e.stepNumber]})}),(0,s.jsx)("p",{className:"font-mono ".concat(e.isCorrect?"text-white/80":"text-red-400"),children:e.content}),!e.isCorrect&&e.expected&&(0,s.jsxs)("p",{className:"text-green-400 text-sm mt-1",children:["Expected: ",e.expected]})]})]},e.stepNumber))})]}),m.misconception&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:a[m.misconception.type].bgColor,borderColor:"".concat(a[m.misconception.type].color,"30")},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:a[m.misconception.type].color,color:"white"},children:a[m.misconception.type].label}),(0,s.jsx)("span",{className:"text-white font-medium",children:m.misconception.name})]}),(0,s.jsx)("p",{className:"text-white/60 text-sm mb-4",children:m.misconception.description}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-white/5",children:[(0,s.jsx)("p",{className:"text-sm text-white/40 mb-1",children:"Recommendation"}),(0,s.jsx)("p",{className:"text-white/80",children:m.misconception.recommendation})]})]}),!m.misconception&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-500/10 border border-green-500/20",children:[(0,s.jsx)("h2",{className:"text-green-400 font-medium mb-2",children:"Great work!"}),(0,s.jsx)("p",{className:"text-white/60",children:m.overallFeedback||"Your solution is correct."})]})]})]})]})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=8352)}),_N_E=e.O()}]);