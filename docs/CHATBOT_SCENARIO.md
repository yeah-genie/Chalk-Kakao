# Chalk v5 MVP 기획 - 전과목 메타인지 분석 챗봇

> 🎯 **핵심 컨셉**: "어떤 과목이든, 네가 점수를 잃는 '구멍'을 찾아 막아준다"

---

## 🆚 찰칵과 완전히 다른 서비스

| | 찰칵 | **Chalk** |
|---|---|---|
| **언제 씀?** | 문제 풀다가 막힐 때 | **시험/숙제 끝난 후** |
| **뭘 보내?** | 모르는 문제 1개 | **채점된 시험지 전체** |
| **뭘 받아?** | 정답 + 해설 | **오류 패턴 + 메타인지 인사이트** |
| **과목** | 전과목 (문제 풀이) | **전과목 (패턴 분석)** |
| **비유** | 백과사전/계산기 | **인바디/PT 트레이너** |

---

## 📚 과목별 오류 분류 체계

### 수학/과학 (계산/논리)

| 오류 유형 | 설명 | 예시 메시지 |
|----------|------|------------|
| 계산 실수 | 부호, 사칙연산, 이항 | "또 부호에서 3점 날렸어!" |
| 조건 누락 | "단, x>0" 무시 | "문제 조건 안 읽고 풀었네" |
| 개념 미숙지 | 공식은 아는데 적용 못함 | "근의 공식 복습 필요해" |
| 그래프 해석 | y축 단위, 교점 오독 | "그래프 축 정보 놓쳤어" |

### 국어 (독해/추론)

| 오류 유형 | 설명 | 예시 메시지 |
|----------|------|------------|
| 급하게 읽기 | 긴장해서 빨리 읽다 놓침 | "다시 보니 지문에 있었네" |
| 선지 함정 | 그럴듯한 오답에 빠짐 | "매력적 오답에 걸렸어" |
| 질문 혼동 | 적절한/적절하지 않은 | "질문 유형 반대로 읽음" |
| 추론 비약 | 지문에 없는 내용 상상 | "내 생각 말고 지문 근거!" |

### 영어 (언어/문법)

| 오류 유형 | 설명 | 예시 메시지 |
|----------|------|------------|
| 어휘 혼동 | 비슷한 단어 착각 | "affect/effect 또 헷갈림" |
| 문맥 파악 실패 | However 뒤 반전 놓침 | "논리 연결어 체크 필요" |
| 문법 실수 | 수일치, 시제 오류 | "동사 s 빠뜨렸어" |
| 빈칸 추론 | 논리 연결 관계 파악 못함 | "앞뒤 문장 연결 연습해" |

### 탐구 (사회/과학)

| 오류 유형 | 설명 | 예시 메시지 |
|----------|------|------------|
| 개념 혼동 | 비슷한 용어 착각 | "이 개념 저 개념 헷갈림" |
| 자료 해석 | 표/그래프 잘못 읽음 | "자료 수치 다시 확인해" |
| 사실 오류 | 일치/불일치 착각 | "지문에 반대로 나와있어" |

---

## 📱 사용자 플로우

### 기본 플로우 (1:1 채팅)

```
[시험 직후]
학생: (채점된 시험지 사진) + "분석해줘"
봇: "📊 분석 중... 잠시만! (약 30초)"

(30초~1분 후)
봇: "✅ 수학 시험 분석 완료!

━━━━━━━━━━━━━━━━
📝 시험 요약
━━━━━━━━━━━━━━━━
• 점수: 78/100 (상위 30% 추정)
• 틀린 문제: 5개

━━━━━━━━━━━━━━━━
⚠️ 오류 유형 분석
━━━━━━━━━━━━━━━━
• 계산 실수: 3개 (-12점)
• 조건 누락: 1개 (-4점)
• 개념 오류: 1개 (-6점)

━━━━━━━━━━━━━━━━
📚 단원별 분석
━━━━━━━━━━━━━━━━
• 이차방정식: 4/5 ⭐ 잘함!
• 부등식: 2/4 ⚠️ 보완 필요
• 인수분해: 3/3 ✅ 완벽!

━━━━━━━━━━━━━━━━
✨ 너의 강점
━━━━━━━━━━━━━━━━
• 인수분해 완벽! 💪
• 앞부분 문제 정답률 높음

━━━━━━━━━━━━━━━━
🧠 메타인지 인사이트
━━━━━━━━━━━━━━━━
'계산 실수로 12점 날렸어!
뒷부분 실수 많은 걸 보면 시간 부족했던 것 같아.
검토 5분만 확보했으면 88점이었을 수도! 😭

📖 부등식은 개념 복습 추천!'

📁 저장 완료! 다음 시험이랑 비교해줄게"
```

### 전과목 통합 리포트 (히스토리)

```
학생: "전체 분석 보여줘"
봇: "📊 전과목 메타인지 대시보드

━━━━━━━━━━━━━━━━
🎯 과목별 점수 잃는 패턴
━━━━━━━━━━━━━━━━
     국어  영어  수학  탐구
급함   ⚠️   ⚠️   ✅   ✅
개념   ✅   ⚠️   ⚠️   ✅
실수   ✅   ✅   ⚠️   ✅

━━━━━━━━━━━━━━━━
🧠 종합 인사이트
━━━━━━━━━━━━━━━━
'전반적으로 **급한 성격**이 보여!

국어/영어에서는 지문을 끝까지 안 읽어서,
수학에서는 검토 안 해서 점수를 잃고 있어.

📈 잠재 점수: 전과목 합계 +15점!

🎯 이번 주 미션:
모든 문제 풀고 5분 검토 시간 확보하기'"
```

---

## 💬 봇 응답 스크립트

### 웰컴 메시지 (친구 추가 시)
```
📚 Chalk에 오신 걸 환영해요!

저는 전과목 시험 분석 AI예요.
국어, 영어, 수학, 탐구 시험지 모두 분석해드려요!

✨ 저한테 이런 걸 보내주세요:
• 채점된 시험지 사진
• 채점된 모의고사 사진
• 숙제 틀린 부분 사진

💡 뭘 알려줄까요?
• 어떤 유형의 실수를 자주 하는지
• 실수만 없었으면 몇 점이었는지
• 과목별 약점과 강점
• 메타인지: "너 급한 성격이야!"

📸 지금 바로 시험지 보내볼래요?
```

### 과목 인식 + 분석 시작
```
📸 수학 시험지로 보이네요!

📊 분석 시작할게요:
• 틀린 문제 인식 중... ✓
• 오류 유형 분류 중...
• 단원별 분석 중...

잠시만 기다려주세요! (약 30초)
```

### 폴백 (이해 못 할 때)
```
🤔 잘 이해하지 못했어요!

📌 이렇게 해보세요:
• 시험지 사진 + "분석해줘"
• "전체 분석" - 전과목 통합 리포트
• "내 기록" - 히스토리 보기
• "도움말" - 사용법 안내

💡 채점된 시험지나 숙제 사진을 보내주세요!
(국어, 영어, 수학, 탐구 모두 가능해요)
```

---

## 📋 명령어 정리

| 명령어 | 설명 | 블록명 |
|--------|------|--------|
| 분석해줘 | 사진 분석 시작 | analyze |
| 전체 분석 | 전과목 통합 리포트 | full_report |
| 내 기록 | 시험 히스토리 | history |
| 도움말 | 사용법 안내 | help |
| 수학/국어/영어/탐구 분석 | 특정 과목만 | subject_analyze |

---

## 🔧 카카오 i 오픈빌더 설정

### 시나리오 구조

```
Chalk 챗봇
│
├── 📍 웰컴 블록 (Welcome)
│   └── 친구 추가 시 환영 메시지
│
├── 📍 폴백 블록 (Fallback)
│   └── 이해 못 할 때 안내
│
├── 시나리오: 시험 분석
│   ├── 블록: analyze
│   │   ├── 발화: 분석해줘, 분석, 채점, 시험
│   │   └── 스킬: AI 분석 서버 호출
│   │
│   ├── 블록: full_report
│   │   ├── 발화: 전체 분석, 종합, 메타인지
│   │   └── 스킬: 전과목 리포트 서버 호출
│   │
│   └── 블록: history
│       ├── 발화: 내 기록, 히스토리, 기록
│       └── 스킬: 히스토리 서버 호출
│
└── 시나리오: 도움말
    └── 블록: help
        ├── 발화: 도움말, 사용법, 어떻게
        └── 응답: 텍스트 (스킬 X)
```

---

## 🛠️ 기술 스택

```
카카오 채널 (1:1 챗봇)
        ↓
    오픈빌더 (시나리오/블록)
        ↓
    스킬 서버 (API)
    ├── Gemini Vision (이미지 분석 - 전과목)
    ├── 과목별 프롬프트 분기
    │   ├── if 수학: math_prompt
    │   ├── if 국어: korean_prompt
    │   ├── if 영어: english_prompt
    │   └── if 탐구: science_prompt
    └── Supabase (데이터 저장)
```

### DB 스키마

```sql
-- 사용자
users (
  id, kakao_id, created_at
)

-- 시험 기록
exams (
  id, user_id, 
  subject,      -- '수학', '국어', '영어', '과탐', '사탐'
  image_url, 
  score, total_score,
  analyzed_at
)

-- 오류 기록
errors (
  id, exam_id,
  question_number,
  error_type,      -- 계산실수, 개념오류, 조건누락, 급하게읽기 등
  error_category,  -- 'calculation', 'concept', 'careless', 'time'
  points_lost
)

-- 메타인지 분석
metacognition (
  id, user_id,
  analysis_date,
  overall_pattern,  -- "급한 성격", "개념 부족" 등
  potential_score,  -- 잠재 점수
  insights_json
)
```

---

## 📅 개발 일정 (7일)

| Day | 작업 |
|-----|------|
| **Day 1** | 카카오 채널 + 오픈빌더 설정 |
| **Day 2** | 기본 시나리오/블록 구성 |
| **Day 3** | 스킬 서버 기본 구현 |
| **Day 4** | Gemini Vision 연동 + 과목별 프롬프트 |
| **Day 5** | 메타인지 분석 로직 구현 |
| **Day 6** | 전과목 통합 리포트 |
| **Day 7** | 테스트 + 베타 배포 |

---

## 🎯 MVP 검증 지표

| 지표 | 목표 | 의미 |
|-----|-----|-----|
| **분석 완료율** | 90%+ | 이미지 인식 성공률 |
| **재사용률** | 30%+ | 같은 유저가 2회 이상 사용 |
| **전과목 사용률** | 50%+ | 1과목 이상 다른 과목도 분석 |
| **유용성 응답** | 70%+ | "도움됐어?" 질문에 긍정 |

---

## 🚀 확장 로드맵

```
v5.0 MVP: 전과목 시험 분석 (지금)
    ↓
v5.1: 메타인지 대시보드 (레이더 차트)
    ↓
v5.2: 복습 알림 + 유사문제 추천
    ↓
v5.3: 그룹 비교 (익명)
    ↓
v5.4: 선생님 대시보드 (B2B)
    ↓
v6.0: 학원/학교 단위 분석
```

---

## 📌 IR 포인트

### 왜 전과목이에요?
> "수학만 하면 시장이 제한됩니다.
> 전과목으로 가면 모든 수험생이 고객이 됩니다.
> 
> 기술적으로도 Gemini Vision이 수식보다 
> 텍스트(국어/영어)를 더 정확하게 인식합니다."

### 찰칵과 뭐가 달라요?
> "찰칵은 '이 문제 어떻게 풀어?'에 답하고,
> Chalk는 '나 왜 이렇게 틀려?'에 답합니다.
> 
> 경쟁이 아니라 **보완** 관계입니다.
> 찰칵으로 문제 풀고, Chalk로 분석하면 됩니다."

### 한 줄 피치
> **"찰칵은 공부 계산기, Chalk는 공부 인바디"**

---

*마지막 수정: 2026-01-12*
